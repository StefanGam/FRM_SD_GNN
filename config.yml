# ===============================
# Runtime mode
# ===============================
universe: crypto            # currently only 'crypto' is auto-built
frequency: daily            # options: daily | weekly | monthly

crypto:
  folder: data/cryptos      # where bitcoin.csv, litecoin.csv, etc. live
week_ending: SUN            # used only when frequency: weekly (SUN, MON, ..., SAT)

# Direct path to precomputed returns
returns_path: data/daily_log_returns.csv

# If you want to provide your own returns file instead of auto-building:
# Uncomment the line below and point to the desired CSV (e.g., daily_log_returns.csv)
# returns_path: data/daily_log_returns.csv

# ===============================
# FRM / Quantile-Lasso settings
# ===============================
window: 30                  # rolling window length (63 ≈ 3 months of daily data)
step: 1                     # advance by 1 day each step
tau: 0.05                   # quantile for λ
lambda_grid: [0.1, 0.2, 0.5, 1.0]
n_folds: 2                  # cross-validation folds inside FRM
n_jobs: 8                   # parallelism (CLI --n_jobs can override)

# ===============================
# SD / Network Factor settings
# ===============================
centrality_metric: eigenvector   # eigenvector | pagerank | indegree | outdegree
factor_high: 2                   # top-K assets for long leg
factor_low: 2                    # bottom-K assets for short leg
factor_output: outputs/NetworkRisk_daily.csv   # output path for H–L factor series

sd:
  method: distributional            # "scalar" for simple dominance; "distributional" for full SD tests
  order: 1                  # SD order (1 or 2) if distributional
  lookback: 30             # how many λ-days form the empirical distribution
  alpha: 0.05               # significance level
  mht: fdr_bh               # multiple testing correction (none | fdr_bh)
  pval: perm                # permutation ("perm") or one-sided KS ("ks", SD1 only)
  perm_B: 50               # bootstrap/permutation repetitions - 50–100 for dev; 1000+ for paper runs

# ===============================
# Fast-test time window (optional)
# ===============================
test_window:
  # Choose exactly ONE of the following approaches:
  # 1) Keep only the last N rows (daily or weekly):
  last_days: 90             # use when frequency: daily
  # last_weeks: 8           # use when frequency: weekly

  # 2) Explicit calendar range (works for any frequency, incl. monthly):
  # start: 2025-08-01
  # end:   2025-10-01
